export interface ConversationStep {
  id: number;
  message: string;
  buttons?: string[];
  inputType?: 'text' | 'number' | 'email' | 'tel';
  condition?: {
    field: string;
    value: string | string[];
  };
  gif?: string;
  validation?: (value: string) => boolean;
  placeholder?: string;
}

const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
const phoneRegex = /^05\d{8}$/;

export const conversationSteps: ConversationStep[] = [
  {
    id: 1,
    message: `**היי, שמי בני חבסוב** 😊

היחודיות שלנו היא שהצלחנו לחסוך ליותר מ-93% מהלקוחות שפנו אלינו סכומים של מעל 180,000 שח.

**הממוצע שאנחנו חוסכים ללקוחות שלנו עומד על 372,000 ש"ח.**

אני כבר 15 שנה בתחום, בעל תעודת CFP - מתכנן פיננסי מוסמך, בעל תואר B.A במנהל עסקים עם התמחות במימון וחשבונאות ובעל רישיון פנסיוני ואלמנטרי.

**ענו על כמה שאלות קצרות כדי שנוכל להבין עד כמה העולמות הפיננסים שלכם מנהולים נכון? והאם נוכל להוסיף לפחות עוד 100,000 ש"ח לתיק שלכם.**`,
    gif: '/images/chatbot/intro.jpg',
    buttons: ['מעולה, בוא נתחיל!']
  },
  {
    id: 2,
    message: 'הכרות קצרה, מה **הגיל** שלך?',
    buttons: ['20-35', '36-45', '46-60', 'מעל 60']
  },
  {
    id: 3,
    message: 'מה **המטרה שלך**?',
    condition: {
      field: 'age',
      value: 'מעל 60'
    },
    buttons: [
      'ניתוח תיק פיננסי פנסיוני מלא',
      'לבנות תיק השקעות וחסכונות',
      'לבנות תוכנית יציאה לפנסיה',
      'לדאוג לדורות הבאים',
      'משכנתא ופתרונות מימון נוספים'
    ]
  },
  {
    id: 4,
    message: 'מה **המטרה שלך**?',
    condition: {
      field: 'age',
      value: ['20-35', '36-45', '46-60']
    },
    buttons: [
      'ניתוח תיק פיננסי פנסיוני מלא',
      'להגדיל את ההון',
      'תכנון כלכלי נכון',
      'להשקיע חכם',
      'להעלות את רמת החיים',
      'משכנתא ופתרונות מימון נוספים'
    ]
  },
  {
    id: 5,
    message: 'מה **הסטטוס שלך**?',
    buttons: ['רווק/ה', 'בזוגיות', 'נשוי/נשואה', 'גרוש/גרושה', 'אלמן/אלמנה'],
    gif: 'https://media.giphy.com/media/l41YmQjOz9qg2Ecow/giphy.gif'
  },
  {
    id: 6,
    message: 'מה **הסטטוס התעסוקתי** שלך?',
    buttons: [
      'שכיר/ה',
      'עצמאי/ת',
      'שכיר/ה ועצמאי/ת',
      'לא עובד/ת',
      'בפנסיה',
      'בפנסיה ועדיין עובד/ת'
    ]
  },
  {
    id: 7,
    message: 'האם יש **הפרשה לביטוח פנסיוני** (פנסיה/מנהלים/גמל)?',
    condition: {
      field: 'employment',
      value: ['שכיר/ה', 'עצמאי/ת', 'שכיר/ה ועצמאי/ת']
    },
    buttons: ['כן', 'לא', 'לא ידוע לי']
  },
  {
    id: 8,
    message: 'האם קיימים **כספים פנסיוניים** (פנסיה/מנהלים/גמל)?',
    condition: {
      field: 'employment',
      value: ['לא עובד/ת', 'בפנסיה', 'בפנסיה ועדיין עובד/ת']
    },
    buttons: ['כן', 'לא', 'אין לי מושג']
  },
  {
    id: 9,
    message: 'מה **גובה השכר ברוטו**?\nאם אין שכר כרגע, נא לרשום 0',
    inputType: 'number',
    gif: 'https://media.giphy.com/media/67ThRZlYBvibtdF9JH/giphy.gif',
    placeholder: 'נא לרשום בספרות את גובה השכר שלך'
  },
  {
    id: 10,
    message: 'מה **גובה ההון הפנסיוני** שברשותך?\n(פנסיה, מנהלים וקופות גמל בלבד)',
    buttons: [
      'עד 100,000 ₪',
      'עד 500,000 ₪',
      'מעל 750,000 ₪',
      'לא ידוע לי'
    ]
  },
  {
    id: 11,
    message: 'מה **גובה ההון** שברשותך?\n(ללא פנסיה, רק השתלמות, עו"ש חסכונות והשקעות)',
    buttons: [
      'עד 300,000',
      'עד 500,000',
      'עד 750,000',
      'מיליון שח וצפונה'
    ]
  },
  {
    id: 12,
    message: 'האם קיימים **השקעות וחסכונות**?',
    buttons: [
      'בבנק',
      'בבית השקעות',
      'מנהל השקעות',
      'באופן פרטי',
      'כל מיני סוגים',
      'כרגע לא'
    ],
    gif: 'https://media.giphy.com/media/LdOyjZ7io5Msw/giphy.gif'
  },
  {
    id: 13,
    message: 'האם ידוע לך כמה **תשואה** סה"כ הנכסים הפיננסיים שלך עשו בשנה האחרונה?',
    buttons: ['כן', 'לא']
  },
  {
    id: 14,
    message: 'מהי **התשואה**?',
    condition: {
      field: 'knowsReturn',
      value: 'כן'
    },
    buttons: [
      'א. עד 5%',
      'ב. עד 10%',
      'ג. יותר מ 10%',
      'ד. לא ידוע לי'
    ]
  },
  {
    id: 15,
    message: 'באיזה **מסלולי השקעה** הקופות הפנסיוניות שלך?',
    condition: {
      field: 'knowsReturn',
      value: 'לא'
    },
    buttons: [
      'א. מסלולים סולידיים',
      'ב. מסלולים אגרסיביים',
      'ג. מסלולים מעורבים',
      'ד. אין לי מושג'
    ]
  },
  {
    id: 16,
    message: 'שאלה אחרונה, האם קיימת **משכנתא**?',
    buttons: ['כן', 'לא', 'יש תכנון לקחת בקרוב'],
    gif: 'https://media.giphy.com/media/3o6Zt11R527fgtrIJO/giphy.gif'
  },
  {
    id: 17,
    message: 'תודה על הזמן\nשמתי לב שלא שאלתי... מה **השם** שלך?',
    inputType: 'text'
  },
  {
    id: 18,
    message: `**לפי התשובות ניתן לשפר מהותית את המצב הפנסיוני והפיננסי**
אני ממליץ לפעול באופן מיידי לשיפור המצב. קיימות הזדמנויות רבות לשיפור בתחום ניהול הסיכונים, חשיפות השוק וחיסכון במס.

אשמח לתאם איתך שיחה להבנה של הדברים, ולראות איך אפשר להתקדם מכאן.
**מה מספר הטלפון שנוכל ליצור קשר?**`,
    inputType: 'tel',
    validation: (value: string) => phoneRegex.test(value)
  },
  {
    id: 19,
    message: `הכנתי לכם **10 כללים חשובים "התנהלות כלכלית - טיפים חשובים"** רישמו את האימייל ונשלח לכם 10 כללים ותובנות אמיתיות לחיסכון של מאות אלפי שקלים.

בלחיצה על הכפתור אתם מאשרים שנשלח אליכם דיוור, כמובן שתמיד תוכלו להסיר את עצמכם.`,
    buttons: ['אשמח לטיפים']
  },
  {
    id: 20,
    message: 'מה **האימייל** שלך?',
    inputType: 'email',
    validation: (value: string) => emailRegex.test(value)
  },
  {
    id: 21,
    message: 'תודה על מילוי הפרטים אשמח שנקבע שיחה או זום של רבע שעה כדי שנראה שניתן לצאת לדרך יחד',
    buttons: ['התחל מחדש'],
    gif: 'https://media.giphy.com/media/3o6Zt6KHxJTbXCnSvu/giphy.gif'
  }
]; 